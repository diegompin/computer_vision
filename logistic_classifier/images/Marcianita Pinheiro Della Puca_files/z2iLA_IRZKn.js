/*!CK:655646611!*//*1443564977,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LptOC"]); }

__d('legacy:TimelineAggregatePost',['TimelineAggregatePost'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.TimelineAggregatePost=c('TimelineAggregatePost');},3);
__d('PubcontentPageTimelineChainingController',['Arbiter','AsyncRequest','DOM','PageLikeConstants','PageTransitions','PubcontentPageTimelineChainingConfig','XPubcontentChainedSuggestionsController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=100,p='fbSuggestionsPlaceHolder';q.initWithContext=function(r){if(!this.$PubcontentPageTimelineChainingController1)this.$PubcontentPageTimelineChainingController1=new q();l.registerCompletionCallback(this.$PubcontentPageTimelineChainingController1.onExplicitChain.bind(this.$PubcontentPageTimelineChainingController1,r,0));};function q(){this.$PubcontentPageTimelineChainingController2={};this.$PubcontentPageTimelineChainingController3=m;h.subscribe(k.LIKED,this.onLike.bind(this));}q.prototype.onLike=function(r,s){this.$PubcontentPageTimelineChainingController4(s.profile_id);this.$PubcontentPageTimelineChainingController5(s.target,{origin:s.origin,profile_id:s.profile_id});};q.prototype.onExplicitChain=function(r,s){setTimeout(this.$PubcontentPageTimelineChainingController5.bind(this,undefined,r),s);};q.prototype.$PubcontentPageTimelineChainingController6=function(){var r=j.scry(document,'#'+p);return r.length?r[0]:null;};q.prototype.$PubcontentPageTimelineChainingController7=function(r){return r in this.$PubcontentPageTimelineChainingController2;};q.prototype.$PubcontentPageTimelineChainingController8=function(r){if(!r)return false;var s=this.$PubcontentPageTimelineChainingController3.origins;if(!s||!s[r.origin])return false;return true;};q.prototype.$PubcontentPageTimelineChainingController4=function(r){this.$PubcontentPageTimelineChainingController2[r]=true;};q.prototype.$PubcontentPageTimelineChainingController9=function(r){delete this.$PubcontentPageTimelineChainingController2[r];};q.prototype.$PubcontentPageTimelineChainingController5=function(r,s){var t=s.profile_id;if(!this.$PubcontentPageTimelineChainingController7(t))return false;if(!this.$PubcontentPageTimelineChainingController8(s))return false;var u=this.$PubcontentPageTimelineChainingController6();if(!u)return;var v=n.getURIBuilder().setString('pageid',t).getURI();new i().setErrorHandler(this.$PubcontentPageTimelineChainingController9.bind(this,t)).setRelativeTo(u).setURI(v).send();};f.exports=q;},null);